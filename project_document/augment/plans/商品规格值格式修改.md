# 商品规格值格式修改计划

## 需求背景
用户希望将商品管理中的规格值完全改为逗号分隔的字符串形式，不再使用数组。例如辣度规格值直接存储为字符串 `"不辣,微辣,中辣,特辣"`。

## 实施方案
完全移除数组格式，直接使用字符串：
- 前端内部数据结构直接使用字符串存储规格值
- 界面显示时将字符串按逗号分割显示为标签
- 保存时直接发送字符串给后端
- 用户添加规格值时直接拼接到字符串中

## 修改文件
- `hmdp-front/nginx-1.18.0/html/hmdp/merchant-shop.html`

## 具体修改点

### 1. 数据结构修改
**原子操作**: 修改规格值数据结构定义
**逻辑概要**: 将 `spec.values` 从数组改为字符串
**预期结果**: 内部直接使用字符串存储

### 2. 界面显示逻辑修改 (第505-512行)
**原子操作**: 修改v-for循环显示逻辑
**逻辑概要**: 将字符串按逗号分割后显示为标签
**预期结果**: 界面正确显示规格值标签

### 3. 添加规格值逻辑 (第1311-1322行)
**原子操作**: 修改confirmSpecValue()方法
**逻辑概要**: 直接拼接字符串而非push到数组
**预期结果**: 添加规格值时更新字符串

### 4. 删除规格值逻辑 (第1324-1327行)
**原子操作**: 修改removeSpecValue()方法
**逻辑概要**: 从字符串中移除指定值
**预期结果**: 删除规格值时更新字符串

### 5. 初始化逻辑 (第1286-1296行)
**原子操作**: 修改addSpec()方法
**逻辑概要**: 初始化规格时使用空字符串
**预期结果**: 新规格使用字符串格式

### 6. 数据处理逻辑 (第1334-1390行)
**原子操作**: 修改setupProductForm()方法
**逻辑概要**: 直接使用字符串，无需转换
**预期结果**: 编辑时正确加载字符串格式

## 实施步骤
1. 修改数据结构定义，将values改为字符串
2. 修改界面显示逻辑，支持字符串分割显示
3. 修改添加规格值逻辑，使用字符串拼接
4. 修改删除规格值逻辑，使用字符串操作
5. 修改初始化和数据处理逻辑
6. 测试验证所有功能正常

## 预期效果
- 完全移除数组使用，直接使用字符串
- 界面显示和操作保持不变
- 后端接收到纯字符串格式的规格值
- 代码更简洁，无需数组与字符串转换
