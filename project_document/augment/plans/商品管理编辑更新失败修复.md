# 商品管理编辑更新失败修复计划

## 问题描述
商品管理页面点击编辑确定后显示更新失败，后端控制台显示JSON反序列化错误。

## 问题根因
前端发送的商品规格数据中，`values` 字段是字符串格式（如 `'不辣,微辣,中辣,特辣'`），但后端 `ProductSpecDTO` 期望的是 `List<String>` 类型。

## 解决方案
修改前端代码，在发送请求前将规格值字符串转换为数组格式。

## 执行步骤

### 1. 修改商品数据提交逻辑
- **文件**: `D:\workspace\hmdp\hmdp-front\nginx-1.18.0\html\hmdp\merchant-shop.html`
- **位置**: 第1128-1134行
- **修改内容**: 将 `values: spec.values` 改为 `values: this.getSpecValues(spec.values)`

### 2. 测试验证
- 重新测试商品编辑功能
- 确认数据能正确提交到后端
- 检查控制台无错误信息

## 预期结果
- 商品编辑确定后能成功更新
- 后端能正确接收和处理规格数据
- 前端界面正常显示规格信息

## 风险评估
- **风险等级**: 低
- **影响范围**: 仅影响商品编辑提交功能
- **回滚方案**: 恢复原始代码即可